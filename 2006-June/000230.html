<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Sidebar new mail notification broken when using IMAP / NNTP folders ?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mutt-ng-users/2006-June/index.html" >
   <LINK REL="made" HREF="mailto:mutt-ng-users%40lists.berlios.de?Subject=Re%3A%20Sidebar%20new%20mail%20notification%20broken%20when%20using%20IMAP%20/%20NNTP%20folders%0A%20%3F&In-Reply-To=%3C449FD5BD.6030807%40myunix.dk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000229.html">
   <LINK REL="Next"  HREF="000231.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Sidebar new mail notification broken when using IMAP / NNTP folders ?</H1>
    <B>Henrik Johansen</B> 
    <A HREF="mailto:mutt-ng-users%40lists.berlios.de?Subject=Re%3A%20Sidebar%20new%20mail%20notification%20broken%20when%20using%20IMAP%20/%20NNTP%20folders%0A%20%3F&In-Reply-To=%3C449FD5BD.6030807%40myunix.dk%3E"
       TITLE="Sidebar new mail notification broken when using IMAP / NNTP folders ?">henrik at myunix.dk
       </A><BR>
    <I>Mon Jun 26 14:40:29 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000229.html">Help to install mutt-ng needed
</A></li>
        <LI>Next message: <A HREF="000231.html">Help to check accounts needed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#230">[ date ]</a>
              <a href="thread.html#230">[ thread ]</a>
              <a href="subject.html#230">[ subject ]</a>
              <a href="author.html#230">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi All.

I am not sure weather this should go to the developers list or not but 
I'll try
my luck here ...

When using the sidebar with IMAP and NNTP folders it only shows the total
number of messages - the new mail count only shows up once I open a
folder. Whenever I leave that folder and open another the new mail count
disappears ...

The same issue was reported in May 2006 by 2 other users but AFAIK never
resolved - please see this thread for more info :

<A HREF="http://marc.theaimsgroup.com/?t=114788353500003&amp;r=1&amp;w=2">http://marc.theaimsgroup.com/?t=114788353500003&amp;r=1&amp;w=2</A>

As mentioned above this applies to both IMAP &amp; NNTP folders.

I am using SVN rev. 804 with the following compile options :

--enable-pop  --enable-imap  --enable-nntp  --enable-hcache  
--with-regex  --with-ssl=/usr/include/openssl

muttng -v reports the following :
System:
  Linux 2.6.11.6 (i686)
External Libraries:
  ncurses 5.4
  libidn 0.5.13 (compiled with 0.5.13)
  DB4 4.2.52
  OpenSSL 0.9.7e 25 Oct 2004
Compile Options:
  -DEBUG
  -HOMESPOOL  +USE_SETGID  +USE_DOTLOCK  +DL_STANDALONE
  +USE_FCNTL  -USE_FLOCK   -USE_INODESORT   +USE_HCACHE
  +USE_POP  +USE_NNTP  +USE_IMAP  -USE_GSS  +USE_SSL  -USE_GNUTLS  
-USE_SASL  -USE_LIBESMTP
  +HAVE_REGCOMP  -USE_GNU_REGEX  -COMPRESSED
  +HAVE_COLOR  +HAVE_START_COLOR  +HAVE_TYPEAHEAD  +HAVE_BKGDSET
  +HAVE_CURS_SET  +HAVE_META  +HAVE_RESIZETERM
  +CRYPT_BACKEND_CLASSIC_PGP  +CRYPT_BACKEND_CLASSIC_SMIME  
-CRYPT_BACKEND_GPGME  -BUFFY_SIZE -SUN_ATTACHMENT
  +ENABLE_NLS  -LOCALES_HACK  +HAVE_WC_FUNCS  +HAVE_LANGINFO_CODESET  
+HAVE_LANGINFO_YESEXPR
  +HAVE_ICONV  -ICONV_NONTRANS  +HAVE_LIBIDN  +HAVE_GETSID  
+HAVE_GETADDRINFO
Built-In Defaults:
  -DOMAIN
  +ISPELL=&quot;/usr/bin/ispell&quot;
  +SENDMAIL=&quot;/usr/sbin/sendmail&quot;
  +MAILPATH=&quot;/var/mail&quot;
  +PKGDATADIR=&quot;/usr/local/share/muttng&quot;
  +PKGDOCDIR=&quot;NONE/doc/muttng&quot;
  +SYSCONFDIR=&quot;/usr/local/etc&quot;
  +EXECSHELL=&quot;/bin/sh&quot;
  -MIXMASTER

An excerpt from my cofig :

# Diff. Options
set nomark_old

# MailBoxes
mailboxes  <A HREF="imaps://myunix.dk/INBOX">imaps://myunix.dk/INBOX</A>
mailboxes  <A HREF="imaps://myunix.dk/INBOX.OSNews">imaps://myunix.dk/INBOX.OSNews</A>
mailboxes  <A HREF="imaps://myunix.dk/INBOX.Freshmeat">imaps://myunix.dk/INBOX.Freshmeat</A>
mailboxes  <A HREF="imaps://myunix.dk/INBOX.Secunia">imaps://myunix.dk/INBOX.Secunia</A>
mailboxes  <A HREF="imaps://myunix.dk/INBOX.Slashdot">imaps://myunix.dk/INBOX.Slashdot</A>

# Sidebar
set sidebar_visible=&quot;yes&quot;
set sidebar_width=25
set sidebar_number_format=%m(%n)
set sidebar_shorten_hierarchy

bind index \CP sidebar-prev
bind index \CN sidebar-next
bind index \CO sidebar-open
bind pager \CP sidebar-prev
bind pager \CN sidebar-next
bind pager \CO sidebar-open

# IMAP
set header_cache=&quot;~/.headers&quot;
set imap_user=&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/mutt-ng-users">xxxx at zzzz.yy</A>&quot;
set imap_pass=&quot;xxxxx&quot;
set spoolfile=&quot;<A HREF="imaps://myunix.dk/INBOX">imaps://myunix.dk/INBOX</A>&quot;
set folder=&quot;<A HREF="imaps://myunix.dk/">imaps://myunix.dk/</A>&quot;
set imap_mail_check=10

The source is compiled on a stock Debian Sarge - the IMAP server that I 
connect to
is running Courier-IMAP on another stock Debian Sarge  .....

I can provide a account on that server for debug purposes if needed ...

Any bright ideas folks ?

/Henrik


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000229.html">Help to install mutt-ng needed
</A></li>
	<LI>Next message: <A HREF="000231.html">Help to check accounts needed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#230">[ date ]</a>
              <a href="thread.html#230">[ thread ]</a>
              <a href="subject.html#230">[ subject ]</a>
              <a href="author.html#230">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mutt-ng-users">More information about the Mutt-ng-users
mailing list</a><br>
</body></html>
