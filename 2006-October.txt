From andre.berger at web.de  Mon Oct 23 09:45:28 2006
From: andre.berger at web.de (Andre Berger)
Date: Mon, 23 Oct 2006 09:45:28 +0200
Subject: new mail notification
In-Reply-To: <20060920144613.GD6413@golem>
References: <20060919050943.GA15711@armadillo.piggo.local>
	<20060919223334.GA14139@frodo.home.lxtec.de>
	<20060920084002@troy.piggo.com> <20060920042151.GA20364@hvk>
	<20060920154112@troy.piggo.com> <20060920144613.GD6413@golem>
Message-ID: <20061023074528.GC761@hvk>

* Ivan F. Villanueva B. (2006-09-20):
> On Wed, Sep 20, 2006 03:45:25PM +1000, Troy Piggins wrote:
> > I can confirm that if I enter a mailbox that has "real" new mail
> > in it, even read it, then go to another mailbox, buffy-list shows
> > new mail in that mbox just read the new mail in.  If I enter that
> > mbox again there is no new mail there.  If I leave that mbox, the
> > buffy-list does not think it's new mail any more.

I seem to have found a way to avoid the annoyance on my Mac OS X
10.4.8/HFS+ journaled.

  ./configure --prefix=/usr/local --enable-nntp --enable-compressed --enable-pop --enable-imap --with-ssl --with-gss --with-docdir=/usr/local/share/doc/mutt --sysconfdir=/usr/local/etc --enable-hcache --with-libesmtp=/usr/local 

# timeout ratio 1:3 timeout:rest
set timeout=90
set mail_check=270
set nntp_mail_check=270
set pop_mail_check=270
set imap_mail_check=270

HTH you guys too,

-Andre


From ak at synflood.at  Sat Oct 28 13:57:10 2006
From: ak at synflood.at (Andreas Krennmair)
Date: Sat, 28 Oct 2006 13:57:10 +0200
Subject: mutt-ng isn't dead!
Message-ID: <200@synflood.at>

Hello everybody,

As some of you may have noticed, mutt-ng development came to a halt
quite a while ago. The problem was that mutt-ng, in its original form,
wasn't really maintainable anymore. We had huge issues merging changes
that happened in mutt, as well as newer versions of the patches that we
had integrated into mutt-ng. This led to a total lack of motivation to
push mutt-ng development forward, and eventually all efforts were
suspended.

Recently, I collected my thoughts about what could have been done better
in the whole development, and my conclusion was that a fork can't
survive without a certain user community, and the mutt-ng community
never really got that big. Another big issue was the lack of the right
tools, or at least the knowledge about them, e.g. we had absolutely no
patch management.

The consequence of all that was that I decided to "restart" the whole
project, but with different goals. The new mutt-ng isn't supposed to be
a fork anymore, but instead a well-integrated set of patches against the
latest version of mutt. I experimented a little bit with different patch
management tools, and decided to use <a
href="http://savannah.nongnu.org/projects/quilt/">quilt</a> in
combination with a Subversion repository. For those who don't know
quilt: it manages a stack of patches, and you can push and pop them. The
patches themselves are stored in a subdirectory called "patches". When
you're a certain patch, you can edit some files, and then refresh the
patch so that your changes are reflected in the corresponding patch
file. To change a patch to a newer version, all you need to do is to pop
as far as the patch before the patch to be replaced, copy the new patch
over the old patch, and push it. If there are any conflicts, force the
push, correct the conflicts, and refresh the patch. Then push the rest
of the patches, which usually works with no or little extra work. This
means that managing a relatively big set of patches is quite simple,
while quilt manages all the "dirty" stuff.

So far, I managed to reintegrate most of the patches we had in mutt-ng,
and also to port some of the mutt-ng-specific features and bugfixes. The
new mutt-ng isn't as complete as the old one, but its pretty usable, and
the most important things like sidebar and NNTP support work already. If
you want to have a look at the current state, read <a
href="http://bereshit.synflood.at/svn/mutt-patches/trunk/README">this
description</a> on how to apply these patches. As stated above, you will
need quilt in order to use it.

Feedback is welcome, and I would also like to know if this new
development model is desired and accepted by the community.

Regards,
Andreas Krennmair


From andre.berger at web.de  Sat Oct 28 16:10:15 2006
From: andre.berger at web.de (Andre Berger)
Date: Sat, 28 Oct 2006 16:10:15 +0200
Subject: mutt-ng isn't dead!
Message-ID: <20061028141015.GA1145@hvk>

* Andreas Krennmair (2006-10-28):

Andreas,

it's just great to hear, and much appreciated, that mutt-ng is still
being developed! -- 

I ran into problems using your instructions. 

The svn command creates a subfolder called patches in $CHECKOUTDIR,
which doesn't match the instructions. No big deal.

The second problem I can't solve. Mac OS X "doesn't make a
difference" (I know it's more complicated) between capital and
lowercase characters; so I can't have PATCHES and patches/ in the
same directory. 

-Andre


From akneib at gmx.net  Sat Oct 28 16:31:33 2006
From: akneib at gmx.net (Andreas Kneib)
Date: Sat, 28 Oct 2006 16:31:33 +0200
Subject: mutt-ng isn't dead!
Message-ID: <20061028143133.GA16996@andreas.kneib.biz>

Hello Andreas,

* Andreas Krennmair wrote:

> href="http://bereshit.synflood.at/svn/mutt-patches/trunk/README">this
> description</a> on how to apply these patches. As stated above, you will
> need quilt in order to use it.

#v+

[akneib]~/attachments/mutt-1.5.12 > quilt push -a
Wende Patch patches/muttng.credits.diff an
patching file sendlib.c
Hunk #1 FAILED at 1832.
1 out of 1 hunk FAILED -- rejects in file sendlib.c
patching file init.c
patching file commands.c
patching file muttlib.c
Restoring sendlib.c
Restoring init.c
Restoring muttlib.c
Restoring commands.c
Patch patches/muttng.credits.diff l?sst sich nicht anwenden (erzwingen mit -f)

#v-


Gru?,
Andreas 


From andre.berger at web.de  Sat Oct 28 16:39:08 2006
From: andre.berger at web.de (Andre Berger)
Date: Sat, 28 Oct 2006 16:39:08 +0200
Subject: mutt-ng isn't dead!
In-Reply-To: <20061028141015.GA1145@hvk>
References: <20061028141015.GA1145@hvk>
Message-ID: <20061028143908.GB1145@hvk>

* Andre Berger (2006-10-28):
> * Andreas Krennmair (2006-10-28):
> 
> Andreas,
> 
> it's just great to hear, and much appreciated, that mutt-ng is still
> being developed! -- 
> 
> I ran into problems using your instructions. 
> 
> The svn command creates a subfolder called patches in $CHECKOUTDIR,
> which doesn't match the instructions. No big deal.
> 
> The second problem I can't solve. Mac OS X "doesn't make a
> difference" (I know it's more complicated) between capital and
> lowercase characters; so I can't have PATCHES and patches/ in the
> same directory. 

OK, that wasn't really hard.

$ svn co http://bereshit.synflood.at/svn/mutt-patches/trunk muttng/

which gave me v149

$ tar -vxzf mutt-1.5.13.tar.gz
$ cd mutt-1.5.13
mutt-1.5.13$ ln -s ../muttng/patches quilt
mutt-1.5.13$ QUILT_PATCHES=quilt quilt push -a

This resulted in Makefile.am.rej
***************
*** 63,68 ****
    browser.h mbyte.h remailer.h url.h \
    crypt-mod-pgp-classic.c crypt-mod-smime-classic.c \
    pgppacket.c mutt_idna.h hcache.h hcache.c bcache.c bcache.h mutt_ssl_gnutls.c \
    crypt-gpgme.c crypt-mod-pgp-gpgme.c crypt-mod-smime-gpgme.c \
    utf8.c wcwidth.c

--- 63,69 ----
    browser.h mbyte.h remailer.h url.h \
    crypt-mod-pgp-classic.c crypt-mod-smime-classic.c \
    pgppacket.c mutt_idna.h hcache.h hcache.c bcache.c bcache.h mutt_ssl_gnutls.c \
+   nntp.c newsrc.c \
    crypt-gpgme.c crypt-mod-pgp-gpgme.c crypt-mod-smime-gpgme.c \
    utf8.c wcwidth.c

So I added "nntp.c newsrc.c \" manually to Makefile.am, line 66

mutt-1.5.13$ ./prepare ; ./configure --prefix=/usr/local --enable-nntp --enable-compressed --enable-pop --enable-imap --with-ssl --with-gss --with-docdir=/usr/local/share/doc/mutt --sysconfdir=/usr/local/etc --enable-hcache --with-libesmtp=/usr/local ; make all

which resulted in:

if gcc -DPKGDATADIR=\"/usr/local/share/mutt\" -DSYSCONFDIR=\"/usr/local/etc\" -DBINDIR=\"/usr/local/bin\" -DMUTTLOCALEDIR=\"/usr/local/share/locale\" -DHAVE_CONFIG_H=1 -I. -I. -I.  -I. -I. -I./imap  -Iintl -I/usr/include -I./intl -I/usr/local/include  -Wall -pedantic  -Os  -MT browser.o -MD -MP -MF ".deps/browser.Tpo" -c -o browser.o browser.c; \
then mv -f ".deps/browser.Tpo" ".deps/browser.Po"; else rm -f ".deps/browser.Tpo"; exit 1; fi
browser.c:61: error: ?OP_CATCHUP? undeclared here (not in a function)
browser.c: In function ?_mutt_select_file?:
browser.c:1439: warning: case label value exceeds maximum value for type
browser.c:1446: warning: comparison between pointer and integer
make[2]: *** [browser.o] Error 1
make[1]: *** [all-recursive] Error 1
make: *** [all] Error 2


-Andre


From ak at synflood.at  Sat Oct 28 16:53:46 2006
From: ak at synflood.at (Andreas Krennmair)
Date: Sat, 28 Oct 2006 16:53:46 +0200
Subject: mutt-ng isn't dead!
In-Reply-To: <20061028143133.GA16996@andreas.kneib.biz>
References: <20061028143133.GA16996@andreas.kneib.biz>
Message-ID: <20061028145346.GA13105@synflood.at>

* Andreas Kneib <akneib at gmx.net> [06-10-28 16:32]:
>* Andreas Krennmair wrote:
>
>> href="http://bereshit.synflood.at/svn/mutt-patches/trunk/README">this
>> description</a> on how to apply these patches. As stated above, you will
>> need quilt in order to use it.
>
>#v+
>
>[akneib]~/attachments/mutt-1.5.12 > quilt push -a
                             ^^^^^^

The patches are against the latest version from CVS (but should also
apply against 1.5.13 which isn't announced on mutt.org but available on
their FTP server).

Regards,
Andreas


From ak at synflood.at  Sat Oct 28 16:58:36 2006
From: ak at synflood.at (Andreas Krennmair)
Date: Sat, 28 Oct 2006 16:58:36 +0200
Subject: mutt-ng isn't dead!
In-Reply-To: <20061028143908.GB1145@hvk>
References: <20061028141015.GA1145@hvk> <20061028143908.GB1145@hvk>
Message-ID: <20061028145836.GB13105@synflood.at>

* Andre Berger <andre.berger at web.de> [06-10-28 16:42]:
>$ tar -vxzf mutt-1.5.13.tar.gz
>$ cd mutt-1.5.13

Use the latest version from CVS. I currently track the patches only for
CVS, because it would be way too much work to branch (and duplicate) the
work to e.g. maintain both patches for the latest development release
and the current state in CVS.

Regards,
Andreas


From riesebie at lxtec.de  Sat Oct 28 17:23:20 2006
From: riesebie at lxtec.de (Elimar Riesebieter)
Date: Sat, 28 Oct 2006 17:23:20 +0200
Subject: mutt-ng isn't dead!
Message-ID: <20061028152320.GB3762@frodo.home.lxtec.de>

Hello Andreas,

On Sat, 28 Oct 2006 the mental interface of
Andreas Krennmair told:

[...]
> http://bereshit.synflood.at/svn/mutt-patches/trunk/README">this
> description</a> on how to apply these patches. As stated above, you will
> need quilt in order to use it.

The patches don't apply to mutt-1.5.13. Much hunks FAILED. quilt
refresh doesn't help and quilt push -f followed by refresh destroyes
the patches, though.

> Feedback is welcome, and I would also like to know if this new
> development model is desired and accepted by the community.

The intention is welcome ;) But isn't this a patch maintanance only?
How is that to distribute. Is it mutt-ng or a patched mutt then?

Elimar

-- 
  You cannot propel yourself forward by
  patting yourself on the back.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/mutt-ng-users/attachments/20061028/15306bc2/attachment.pgp>

From riesebie at lxtec.de  Sat Oct 28 17:52:04 2006
From: riesebie at lxtec.de (Elimar Riesebieter)
Date: Sat, 28 Oct 2006 17:52:04 +0200
Subject: mutt-ng isn't dead!
In-Reply-To: <20061028145346.GA13105@synflood.at>
References: <20061028143133.GA16996@andreas.kneib.biz>
	<20061028145346.GA13105@synflood.at>
Message-ID: <20061028155203.GC3762@frodo.home.lxtec.de>

On Sat, 28 Oct 2006 the mental interface of
Andreas Krennmair told:

> * Andreas Kneib <akneib at gmx.net> [06-10-28 16:32]:
> >* Andreas Krennmair wrote:
> >
> >>href="http://bereshit.synflood.at/svn/mutt-patches/trunk/README">this
> >>description</a> on how to apply these patches. As stated above, you will
> >>need quilt in order to use it.
> >
> >#v+
> >
> >[akneib]~/attachments/mutt-1.5.12 > quilt push -a
>                             ^^^^^^
> 
> The patches are against the latest version from CVS (but should also
> apply against 1.5.13 which isn't announced on mutt.org but available on
> their FTP server).

Ok, the patches applied to the actual CVS version, but:

sidebar.c: In function 'sidebar_shorten_name':
sidebar.c:142: error: 'ImapDelimChars' undeclared (first use in this function)
sidebar.c:142: error: (Each undeclared identifier is reported only once
sidebar.c:142: error: for each function it appears in.)
sidebar.c:189:1: warning: C++ style comments are not allowed in ISO C90
sidebar.c:189:1: warning: (this will be reported only once per input file)
sidebar.c: In function 'draw_sidebar':
sidebar.c:265: error: 'ImapDelimChars' undeclared (first use in this function)

Elimar

-- 
  Do you smell something burning or ist it me?


From ak at synflood.at  Sat Oct 28 18:06:42 2006
From: ak at synflood.at (Andreas Krennmair)
Date: Sat, 28 Oct 2006 18:06:42 +0200
Subject: mutt-ng isn't dead!
In-Reply-To: <20061028152320.GB3762@frodo.home.lxtec.de>
References: <20061028152320.GB3762@frodo.home.lxtec.de>
Message-ID: <20061028160641.GA13699@synflood.at>

Hello,
* Elimar Riesebieter <riesebie at lxtec.de> [06-10-28 17:28]:
>On Sat, 28 Oct 2006 the mental interface of
>Andreas Krennmair told:
>
>[...]
>> http://bereshit.synflood.at/svn/mutt-patches/trunk/README">this
>> description</a> on how to apply these patches. As stated above, you will
>> need quilt in order to use it.
>
>The patches don't apply to mutt-1.5.13. Much hunks FAILED. quilt
>refresh doesn't help and quilt push -f followed by refresh destroyes
>the patches, though.

They apply against the latest CVS version.

Also simply 'quilt push -f && quilt refresh' isn't enough. Between the
push -f and the refresh you need to manually fix the rejected parts
(which you can see in the .rej files).

>> Feedback is welcome, and I would also like to know if this new
>> development model is desired and accepted by the community.
>
>The intention is welcome ;) But isn't this a patch maintanance only?

No, why should it be? For every new feature I want to implement, I
simply add a new patch. I can easily track and port this patch to every
new CVS revision and/or release, it's (theoretically) simple to merge this
patch back to the official mutt source tree.

>How is that to distribute. Is it mutt-ng or a patched mutt then?

I'm thinking about providing pre-patched tarballs named something like
"muttng-x.y.zz.tar.gz" shortly after every mutt release.

Regards,
Andreas


From akneib at gmx.net  Sat Oct 28 18:08:50 2006
From: akneib at gmx.net (Andreas Kneib)
Date: Sat, 28 Oct 2006 18:08:50 +0200
Subject: mutt-ng isn't dead!
In-Reply-To: <20061028145836.GB13105@synflood.at>
References: <20061028141015.GA1145@hvk> <20061028143908.GB1145@hvk>
	<20061028145836.GB13105@synflood.at>
Message-ID: <20061028160850.GA837@andreas.kneib.biz>

* Andreas Krennmair wrote:

> * Andre Berger <andre.berger at web.de> [06-10-28 16:42]:
> >$ tar -vxzf mutt-1.5.13.tar.gz
> >$ cd mutt-1.5.13

> Use the latest version from CVS. 

THX! Now ist works. :)


Regards,
Andreas


From ak at synflood.at  Sat Oct 28 18:16:56 2006
From: ak at synflood.at (Andreas Krennmair)
Date: Sat, 28 Oct 2006 18:16:56 +0200
Subject: mutt-ng isn't dead!
In-Reply-To: <20061028155203.GC3762@frodo.home.lxtec.de>
References: <20061028143133.GA16996@andreas.kneib.biz>
	<20061028145346.GA13105@synflood.at>
	<20061028155203.GC3762@frodo.home.lxtec.de>
Message-ID: <20061028161656.GB13699@synflood.at>

Hi,
* Elimar Riesebieter <riesebie at lxtec.de> [06-10-28 17:55]:
>Ok, the patches applied to the actual CVS version, but:
>
>sidebar.c: In function 'sidebar_shorten_name':
>sidebar.c:142: error: 'ImapDelimChars' undeclared (first use in this function)
>sidebar.c:142: error: (Each undeclared identifier is reported only once
>sidebar.c:142: error: for each function it appears in.)
>sidebar.c:189:1: warning: C++ style comments are not allowed in ISO C90
>sidebar.c:189:1: warning: (this will be reported only once per input file)
>sidebar.c: In function 'draw_sidebar':
>sidebar.c:265: error: 'ImapDelimChars' undeclared (first use in this function)

I don't know what you did, but checking out the mutt source from CVS,
checking out the patches from my Subversion repository, running
./prepare, then ./configure and then make works for me.

Regards,
Andreas


From akneib at gmx.net  Sat Oct 28 19:54:33 2006
From: akneib at gmx.net (Andreas Kneib)
Date: Sat, 28 Oct 2006 19:54:33 +0200
Subject: mutt-ng isn't dead!
Message-ID: <20061028175433.GA2780@andreas.kneib.biz>

* Andreas Krennmair wrote:

> Feedback is welcome, and I would also like to know if this new
> development model is desired and accepted by the community.

For my requirements: 100% accepted!


Regards,
Andreas



From riesebie at lxtec.de  Sat Oct 28 19:59:29 2006
From: riesebie at lxtec.de (Elimar Riesebieter)
Date: Sat, 28 Oct 2006 19:59:29 +0200
Subject: [PATCH] Indexcolor
Message-ID: <20061028175929.GD3762@frodo.home.lxtec.de>


This patch has to be noted as the last one in the series file.


Main indexcolor page: http://greek0.net/mutt.html
Patch forward ported to 1.5.11 by Christoph 'Myon' Berg (http://www.df7cb.de/)
Myons patch reworked for mutt-ng by Elimar Riesebieter <riesebie at lxtec.de>

diff -ur mutt~/color.c mutt/color.c
--- mutt~/color.c	2006-10-28 19:17:57.000000000 +0200
+++ mutt/color.c	2006-10-28 19:21:09.000000000 +0200
@@ -35,6 +35,8 @@
 COLOR_LINE *ColorHdrList = NULL;
 COLOR_LINE *ColorBodyList = NULL;
 COLOR_LINE *ColorIndexList = NULL;
+COLOR_LINE *ColorIndexSubjectList = NULL;
+COLOR_LINE *ColorIndexAuthorList = NULL;
 
 /* local to this file */
 static int ColorQuoteSize;
@@ -93,6 +95,14 @@
   { "bold",		MT_COLOR_BOLD },
   { "underline",	MT_COLOR_UNDERLINE },
   { "index",		MT_COLOR_INDEX },
+  { "index_subject",	MT_COLOR_INDEX_SUBJECT },
+  { "index_author",	MT_COLOR_INDEX_AUTHOR },
+  { "index_collapsed",	MT_COLOR_INDEX_COLLAPSED },
+  { "index_date",	MT_COLOR_INDEX_DATE },
+  { "index_flags",	MT_COLOR_INDEX_FLAGS },
+  { "index_label",	MT_COLOR_INDEX_LABEL },
+  { "index_number",	MT_COLOR_INDEX_NUMBER },
+  { "index_size",	MT_COLOR_INDEX_SIZE },
   { "sidebar_new",	MT_COLOR_NEW },
   { "sidebar",      MT_COLOR_SIDEBAR },
   { NULL,		0 }
@@ -367,12 +377,55 @@
   return _mutt_parse_uncolor(buf, s, data, err, 0);
 }
 
+static void
+mutt_do_uncolor (BUFFER *buf, BUFFER *s, COLOR_LINE **ColorList, 
+    			int *do_cache, int parse_uncolor)
+{
+  COLOR_LINE *tmp, *last = NULL;
+
+  do
+  {
+    mutt_extract_token (buf, s, 0);
+    if (!mutt_strcmp ("*", buf->data))
+    {
+      for (tmp = *ColorList; tmp; )
+      {
+        if (!*do_cache)
+	  *do_cache = 1;
+	last = tmp;
+	tmp = tmp->next;
+	mutt_free_color_line(&last, parse_uncolor);
+      }
+      *ColorList = NULL;
+    }
+    else
+    {
+      for (last = NULL, tmp = *ColorList; tmp; last = tmp, tmp = tmp->next)
+      {
+	if (!mutt_strcmp (buf->data, tmp->pattern))
+	{
+          if (!*do_cache)
+	    *do_cache = 1;
+	  dprint(1,(debugfile,"Freeing pattern \"%s\" from ColorList\n",
+	                       tmp->pattern));
+	  if (last)
+	    last->next = tmp->next;
+	  else
+	    *ColorList = tmp->next;
+	  mutt_free_color_line(&tmp, parse_uncolor);
+	  break;
+	}
+      }
+    }
+  }
+  while (MoreArgs (s));
+}
+
 static int 
 _mutt_parse_uncolor (BUFFER *buf, BUFFER *s, unsigned long data, BUFFER *err, 
 			 short parse_uncolor)
 {
   int object = 0, do_cache = 0;
-  COLOR_LINE *tmp, *last = NULL;
 
   mutt_extract_token (buf, s, 0);
 
@@ -382,6 +435,13 @@
     return (-1);
   }
 
+  if (object > MT_COLOR_INDEX_AUTHOR) /* uncolor index column */
+  {
+    ColorDefs[object] = 0;
+    set_option (OPTFORCEREDRAWINDEX);
+    return (0);
+  }
+
   if (mutt_strncmp (buf->data, "index", 5) != 0)
   {
     snprintf (err->data, err->dsize,
@@ -419,44 +479,12 @@
     return 0;
   }
      
-  
-  do
-  {
-    mutt_extract_token (buf, s, 0);
-    if (!mutt_strcmp ("*", buf->data))
-    {
-      for (tmp = ColorIndexList; tmp; )
-      {
-        if (!do_cache)
-	  do_cache = 1;
-	last = tmp;
-	tmp = tmp->next;
-	mutt_free_color_line(&last, parse_uncolor);
-      }
-      ColorIndexList = NULL;
-    }
-    else
-    {
-      for (last = NULL, tmp = ColorIndexList; tmp; last = tmp, tmp = tmp->next)
-      {
-	if (!mutt_strcmp (buf->data, tmp->pattern))
-	{
-          if (!do_cache)
-	    do_cache = 1;
-	  dprint(1,(debugfile,"Freeing pattern \"%s\" from ColorIndexList\n",
-	                       tmp->pattern));
-	  if (last)
-	    last->next = tmp->next;
-	  else
-	    ColorIndexList = tmp->next;
-	  mutt_free_color_line(&tmp, parse_uncolor);
-	  break;
-	}
-      }
-    }
-  }
-  while (MoreArgs (s));
-
+  if (object == MT_COLOR_INDEX)
+    mutt_do_uncolor(buf, s, &ColorIndexList, &do_cache, parse_uncolor);
+  if (object == MT_COLOR_INDEX_SUBJECT)
+    mutt_do_uncolor(buf, s, &ColorIndexSubjectList, &do_cache, parse_uncolor);
+  if (object == MT_COLOR_INDEX_AUTHOR)
+    mutt_do_uncolor(buf, s, &ColorIndexAuthorList, &do_cache, parse_uncolor);
 
   if (do_cache && !option (OPTNOCURSES))
   {
@@ -696,7 +724,7 @@
 
   /* extract a regular expression if needed */
   
-  if (object == MT_COLOR_HEADER || object == MT_COLOR_BODY || object == MT_COLOR_INDEX)
+  if (object == MT_COLOR_HEADER || object == MT_COLOR_BODY || object == MT_COLOR_INDEX || object == MT_COLOR_INDEX_SUBJECT || object == MT_COLOR_INDEX_AUTHOR)
   {
     if (!MoreArgs (s))
     {
@@ -740,6 +768,18 @@
     r = add_pattern (&ColorIndexList, buf->data, 1, fg, bg, attr, err, 1);
     set_option (OPTFORCEREDRAWINDEX);
   }
+  else if (object == MT_COLOR_INDEX_SUBJECT)
+  {
+    r = add_pattern (&ColorIndexSubjectList, buf->data,
+		     1, fg, bg, attr, err, 1);
+    set_option (OPTFORCEREDRAWINDEX);
+  }
+  else if (object == MT_COLOR_INDEX_AUTHOR)
+  {
+    r = add_pattern (&ColorIndexAuthorList, buf->data,
+		     1, fg, bg, attr, err, 1);
+    set_option (OPTFORCEREDRAWINDEX);
+  }
   else if (object == MT_COLOR_QUOTED)
   {
     if (q_level >= ColorQuoteSize)
@@ -765,7 +805,11 @@
       ColorQuote[q_level] = fgbgattr_to_color(fg, bg, attr);
   }
   else
+  {
     ColorDefs[object] = fgbgattr_to_color(fg, bg, attr);
+    if (object > MT_COLOR_INDEX_AUTHOR)
+      set_option (OPTFORCEREDRAWINDEX);
+  }
 
 #ifdef HAVE_COLOR
 # ifdef HAVE_BKGDSET
diff -ur mutt~/curs_lib.c mutt/curs_lib.c
--- mutt~/curs_lib.c	2006-10-28 19:17:57.000000000 +0200
+++ mutt/curs_lib.c	2006-10-28 19:20:15.000000000 +0200
@@ -614,6 +614,7 @@
   size_t k, k2;
   char scratch[MB_LEN_MAX];
   mbstate_t mbstate1, mbstate2;
+  int escaped = 0;
 
   memset(&mbstate1, 0, sizeof (mbstate1));
   memset(&mbstate2, 0, sizeof (mbstate2));
@@ -626,7 +627,15 @@
       k = (k == (size_t)(-1)) ? 1 : n;
       wc = replacement_char ();
     }
-    if (arboreal && wc < M_TREE_MAX)
+    if (escaped) {
+      escaped = 0;
+      w = 0;
+    }
+    else if (arboreal && wc == M_SPECIAL_INDEX) {
+      escaped = 1;
+      w = 0;
+    }
+    else if (arboreal && wc < M_TREE_MAX)
       w = 1; /* hack */
     else
     {
diff -ur mutt~/doc/manual.xml.head mutt/doc/manual.xml.head
--- mutt~/doc/manual.xml.head	2006-10-28 19:17:57.000000000 +0200
+++ mutt/doc/manual.xml.head	2006-10-28 19:20:15.000000000 +0200
@@ -1853,8 +1853,8 @@
 <para>
 <literallayout>
 Usage: <literal>color</literal> <emphasis>object</emphasis> <emphasis>foreground</emphasis> <emphasis>background</emphasis> &lsqb; <emphasis>regexp</emphasis> &rsqb;
-Usage: <literal>color</literal> index <emphasis>foreground</emphasis> <emphasis>background</emphasis> <emphasis>pattern</emphasis>
-Usage: <literal>uncolor</literal> index <emphasis>pattern</emphasis> &lsqb; <emphasis>pattern</emphasis> ...  &rsqb;
+Usage: <literal>color</literal> <emphasis>index-object</emphasis> <emphasis>foreground</emphasis> <emphasis>background</emphasis> <emphasis>pattern</emphasis>
+  Usage: <literal>uncolor</literal> <emphasis>index-object</emphasis> <emphasis>pattern</emphasis> &lsqb; <emphasis>pattern</emphasis> ...  &rsqb;
 </literallayout>
 </para>
 
@@ -1917,6 +1917,54 @@
 <listitem>
 
 <para>
+index_author (color of the author name in the index, uses <emphasis>pattern</emphasis>)
+</para>
+</listitem>
+<listitem>
+
+<para>
+index_collapsed (the number of messages in a collapsed thread in the index)
+</para>
+</listitem>
+<listitem>
+
+<para>
+index_date (color of the date field in the index)
+</para>
+</listitem>
+<listitem>
+
+<para>
+index_flags (color of the message flags in the index)
+</para>
+</listitem>
+<listitem>
+
+<para>
+index_label (color of the message label in the index)
+</para>
+</listitem>
+<listitem>
+
+<para>
+index_number (color of the message number in the index)
+</para>
+</listitem>
+<listitem>
+
+<para>
+index_size (color of the message size and line number in the index)
+</para>
+</listitem>
+<listitem>
+
+<para>
+index_subject (color of the subject in the index, uses <emphasis>pattern</emphasis>)
+</para>
+</listitem>
+<listitem>
+
+<para>
 indicator (arrow or bar used to indicate the current item in a menu)
 </para>
 </listitem>
diff -ur mutt~/hdrline.c mutt/hdrline.c
--- mutt~/hdrline.c	2006-10-28 19:17:57.000000000 +0200
+++ mutt/hdrline.c	2006-10-28 19:20:15.000000000 +0200
@@ -99,6 +99,34 @@
   return 0;
 }
 
+/* Takes the color to embed, the buffer to manipulate and the buffer length as
+ * arguments.
+ * Returns the number of chars written. */
+static size_t add_index_color(char *buf, size_t buflen,
+    			   format_flag flags, char color)
+{
+  int len;
+
+  /* only add color markers if we are operating on main index entries. */
+  if (!(flags & M_FORMAT_INDEX))
+    return 0;
+
+  if (color == MT_COLOR_INDEX) { /* buf might be uninitialized other cases */
+    len = mutt_strlen(buf);
+    buf += len;
+    buflen -= len;
+  }
+
+  if (buflen < 2)
+    return 0;
+
+  buf[0] = M_SPECIAL_INDEX;
+  buf[1] = color;
+  buf[2] = '\0';
+
+  return 2;
+}
+
 static void make_from (ENVELOPE *hdr, char *buf, size_t len, int do_lists)
 {
   int me;
@@ -253,6 +281,7 @@
 #define THREAD_NEW (threads && hdr->collapsed && hdr->num_hidden > 1 && mutt_thread_contains_unread (ctx, hdr) == 1)
 #define THREAD_OLD (threads && hdr->collapsed && hdr->num_hidden > 1 && mutt_thread_contains_unread (ctx, hdr) == 2)
   size_t len;
+  size_t colorlen;
 
   hdr = hfi->hdr;
   ctx = hfi->ctx;
@@ -304,12 +333,17 @@
       break;
     
     case 'c':
+      colorlen = add_index_color(dest, destlen, flags, MT_COLOR_INDEX_SIZE);
       mutt_pretty_size (buf2, sizeof (buf2), (long) hdr->content->length);
-      mutt_format_s (dest, destlen, prefix, buf2);
+      mutt_format_s (dest+colorlen, destlen-colorlen, prefix, buf2);
+      add_index_color(dest+colorlen, destlen-colorlen, flags, MT_COLOR_INDEX);
       break;
 
     case 'C':
-      snprintf (fmt, sizeof (fmt), "%%%sd", prefix);
+      colorlen = add_index_color(fmt, sizeof(fmt), flags, MT_COLOR_INDEX_NUMBER);
+      snprintf (fmt+colorlen, sizeof(fmt)-colorlen, "%%%sd", prefix);
+      add_index_color(fmt+colorlen, sizeof(fmt)-colorlen, flags, MT_COLOR_INDEX);
+
       snprintf (dest, destlen, fmt, hdr->msgno + 1);
       break;
 
@@ -408,7 +442,10 @@
 	if (do_locales)
 	  setlocale (LC_TIME, "C");
 
-	mutt_format_s (dest, destlen, prefix, buf2);
+	colorlen = add_index_color(dest, destlen, flags, MT_COLOR_INDEX_DATE);
+	mutt_format_s (dest+colorlen, destlen-colorlen, prefix, buf2);
+	add_index_color(dest+colorlen, destlen-colorlen, flags, MT_COLOR_INDEX);
+
 	if (len > 0 && op != 'd' && op != 'D') /* Skip ending op */
 	  src = cp + 1;
       }
@@ -438,8 +475,10 @@
     case 'F':
       if (!optional)
       {
+	colorlen = add_index_color(dest, destlen, flags, MT_COLOR_INDEX_AUTHOR);
         make_from (hdr->env, buf2, sizeof (buf2), 0);
-	mutt_format_s (dest, destlen, prefix, buf2);
+	mutt_format_s (dest+colorlen, destlen-colorlen, prefix, buf2);
+	add_index_color(dest+colorlen, destlen-colorlen, flags, MT_COLOR_INDEX);
       }
       else if (mutt_addr_is_user (hdr->env->from))
         optional = 0;
@@ -471,7 +510,9 @@
       if (!optional)
       {
 	snprintf (fmt, sizeof (fmt), "%%%sd", prefix);
-	snprintf (dest, destlen, fmt, (int) hdr->lines);
+	colorlen = add_index_color(dest, destlen, flags, MT_COLOR_INDEX_SIZE);
+	snprintf (dest+colorlen, destlen-colorlen, fmt, (int) hdr->lines);
+	add_index_color(dest+colorlen, destlen-colorlen, flags, MT_COLOR_INDEX);
       }
       else if (hdr->lines <= 0)
         optional = 0;
@@ -480,8 +521,10 @@
     case 'L':
       if (!optional)
       {
+	colorlen = add_index_color(dest, destlen, flags, MT_COLOR_INDEX_AUTHOR);
 	make_from (hdr->env, buf2, sizeof (buf2), 1);
-	mutt_format_s (dest, destlen, prefix, buf2);
+	mutt_format_s (dest+colorlen, destlen-colorlen, prefix, buf2);
+	add_index_color(dest+colorlen, destlen-colorlen, flags, MT_COLOR_INDEX);
       }
       else if (!check_for_mailing_list (hdr->env->to, NULL, NULL, 0) &&
 	       !check_for_mailing_list (hdr->env->cc, NULL, NULL, 0))
@@ -536,10 +579,16 @@
       snprintf (fmt, sizeof (fmt), "%%%sd", prefix);
       if (!optional)
       {
-	if (threads && is_index && hdr->collapsed && hdr->num_hidden > 1)
-	  snprintf (dest, destlen, fmt, hdr->num_hidden);
-	else if (is_index && threads)
-	  mutt_format_s (dest, destlen, prefix, " ");
+	colorlen = add_index_color(dest, destlen, flags, 
+				   MT_COLOR_INDEX_COLLAPSED);
+	if (threads && is_index && hdr->collapsed && hdr->num_hidden > 1) {
+	  snprintf (dest+colorlen, destlen-colorlen, fmt, hdr->num_hidden);
+	  add_index_color(dest, destlen-colorlen, flags, MT_COLOR_INDEX);
+	}
+	else if (is_index && threads) {
+	  mutt_format_s (dest+colorlen, destlen-colorlen, prefix, " ");
+	  add_index_color(dest, destlen-colorlen, flags, MT_COLOR_INDEX);
+	}
 	else
 	  *dest = '\0';
       }
@@ -556,15 +605,23 @@
       {
 	if (flags & M_FORMAT_FORCESUBJ)
 	{
-	  mutt_format_s (dest, destlen, "", NONULL (hdr->env->subject));
+	  colorlen = add_index_color(dest, destlen, flags, MT_COLOR_INDEX_SUBJECT);
+	  mutt_format_s (dest+colorlen, destlen-colorlen, "", 
+	      NONULL (hdr->env->subject));
+	  add_index_color(dest+colorlen, destlen-colorlen, flags, MT_COLOR_INDEX);
+
 	  snprintf (buf2, sizeof (buf2), "%s%s", hdr->tree, dest);
 	  mutt_format_s_tree (dest, destlen, prefix, buf2);
 	}
 	else
 	  mutt_format_s_tree (dest, destlen, prefix, hdr->tree);
       }
-      else
-	mutt_format_s (dest, destlen, prefix, NONULL (hdr->env->subject));
+      else {
+	colorlen = add_index_color(dest, destlen, flags, MT_COLOR_INDEX_SUBJECT);
+	mutt_format_s (dest+colorlen, destlen-colorlen, prefix, 
+	    NONULL (hdr->env->subject));
+	add_index_color(dest+colorlen, destlen-colorlen, flags, MT_COLOR_INDEX);
+      }
       break;
 
     case 'S':
@@ -667,7 +724,9 @@
 		hdr->tagged ? '*' :
 		(hdr->flagged ? '!' :
 		 (Tochars && ((i = mutt_user_is_recipient (hdr)) < mutt_strlen (Tochars)) ? Tochars[i] : ' ')));
-      mutt_format_s (dest, destlen, prefix, buf2);
+      colorlen = add_index_color(dest, destlen, flags, MT_COLOR_INDEX_FLAGS);
+      mutt_format_s (dest+colorlen, destlen-colorlen, prefix, buf2);
+      add_index_color(dest+colorlen, destlen-colorlen, flags, MT_COLOR_INDEX);
       break;
 
     case 'X':
@@ -687,7 +746,9 @@
        if (optional)
 	 optional = hdr->env->x_label ? 1 : 0;
 
-       mutt_format_s (dest, destlen, prefix, NONULL (hdr->env->x_label));
+       colorlen = add_index_color(dest, destlen, flags, MT_COLOR_INDEX_LABEL);
+       mutt_format_s (dest+colorlen, destlen-colorlen, prefix, NONULL (hdr->env->x_label));
+       add_index_color(dest+colorlen, destlen-colorlen, flags, MT_COLOR_INDEX);
        break;
  
     case 'Y':
@@ -713,10 +774,12 @@
       if (optional)
 	optional = i;
 
+      colorlen = add_index_color(dest, destlen, flags, MT_COLOR_INDEX_LABEL);
       if (i)
-        mutt_format_s (dest, destlen, prefix, NONULL (hdr->env->x_label));
+        mutt_format_s (dest+colorlen, destlen-colorlen, prefix, NONULL (hdr->env->x_label));
       else
-        mutt_format_s (dest, destlen, prefix, "");
+        mutt_format_s (dest+colorlen, destlen-colorlen, prefix, "");
+      add_index_color(dest+colorlen, destlen-colorlen, flags, MT_COLOR_INDEX);
 
       break;
 
diff -ur mutt~/menu.c mutt/menu.c
--- mutt~/menu.c	2006-10-28 19:17:57.000000000 +0200
+++ mutt/menu.c	2006-10-28 19:30:54.000000000 +0200
@@ -37,7 +37,30 @@
 
 extern size_t UngetCount;
 
-static void print_enriched_string (int attr, unsigned char *s, int do_color)
+static int get_color(int index, int type) {
+  COLOR_LINE *color;
+  HEADER *hdr = Context->hdrs[index];
+
+  switch (type) {
+    case MT_COLOR_INDEX_SUBJECT:
+      color = ColorIndexSubjectList;
+      break;
+    case MT_COLOR_INDEX_AUTHOR:
+      color = ColorIndexAuthorList;
+      break;
+    default:
+      return ColorDefs[type];
+  }
+
+  for (; color; color = color->next)
+    if (mutt_pattern_exec (color->color_pattern, M_MATCH_FULL_ADDRESS, 
+	Context, hdr))
+      return color->pair;
+
+  return 0;
+}
+
+static void print_enriched_string (int index, int attr, unsigned char *s, int do_color)
 {
   wchar_t wc;
   size_t k;
@@ -134,6 +157,18 @@
       }
       if (do_color) attrset(attr);
     }
+    else if(*s == M_SPECIAL_INDEX)
+    {
+      s++;
+      if (do_color) {
+	if (*s == MT_COLOR_INDEX)
+	  attrset(attr);
+	else
+	  attron(get_color(index, *s));
+      }
+      s++; 
+      n -= 2;
+    }
     else if ((k = mbrtowc (&wc, (char *)s, n, &mbstate)) > 0)
     {
       addnstr ((char *)s, k);
@@ -235,7 +270,7 @@
 	  addstr ("   ");
 	}
 
-        print_enriched_string (menu->color(i), (unsigned char *) buf, 1);
+        print_enriched_string (i, menu->color(i), (unsigned char *) buf, 1);
         SETCOLOR (MT_COLOR_NORMAL);          
       }
       else
@@ -249,7 +284,7 @@
 	}
 
  	CLEARLINE_WIN (i - menu->top + menu->offset);
-	print_enriched_string (menu->color(i), (unsigned char *) buf, i != menu->current);
+	print_enriched_string (i, menu->color(i), (unsigned char *) buf, i != menu->current);
         SETCOLOR (MT_COLOR_NORMAL);
         BKGDSET (MT_COLOR_NORMAL);
       }
@@ -286,7 +321,7 @@
       menu_make_entry (buf, sizeof (buf), menu, menu->oldcurrent);
       menu_pad_string (buf, sizeof (buf));
       move (menu->oldcurrent + menu->offset - menu->top, SidebarWidth + 3);
-      print_enriched_string (menu->color(menu->oldcurrent), (unsigned char *) buf, 1);
+      print_enriched_string (menu->oldcurrent, menu->color(menu->oldcurrent), (unsigned char *) buf, 1);
       SETCOLOR (MT_COLOR_NORMAL);
     }
 
@@ -304,7 +339,7 @@
     clrtoeol ();
     menu_make_entry (buf, sizeof (buf), menu, menu->oldcurrent);
     menu_pad_string (buf, sizeof (buf));
-    print_enriched_string (menu->color(menu->oldcurrent), (unsigned char *) buf, 1);
+    print_enriched_string (menu->oldcurrent, menu->color(menu->oldcurrent), (unsigned char *) buf, 1);
 
     /* now draw the new one to reflect the change */
     menu_make_entry (buf, sizeof (buf), menu, menu->current);
@@ -313,7 +348,7 @@
     ADDCOLOR (MT_COLOR_INDICATOR);
     BKGDSET (MT_COLOR_INDICATOR);
     CLEARLINE_WIN (menu->current - menu->top + menu->offset);
-    print_enriched_string (menu->color(menu->current), (unsigned char *) buf, 0);
+    print_enriched_string (menu->current, menu->color(menu->current), (unsigned char *) buf, 0);
     SETCOLOR (MT_COLOR_NORMAL);
     BKGDSET (MT_COLOR_NORMAL);
   }
@@ -339,7 +374,7 @@
     attrset (attr);
     addch (' ');
     menu_pad_string (buf, sizeof (buf));
-    print_enriched_string (menu->color(menu->current), (unsigned char *) buf, 1);
+    print_enriched_string (menu->current, menu->color(menu->current), (unsigned char *) buf, 1);
     SETCOLOR (MT_COLOR_NORMAL);
   }
   else
@@ -348,7 +383,7 @@
     ADDCOLOR (MT_COLOR_INDICATOR);
     BKGDSET (MT_COLOR_INDICATOR);
     clrtoeol ();
-    print_enriched_string (menu->color(menu->current), (unsigned char *) buf, 0);
+    print_enriched_string (menu->current, menu->color(menu->current), (unsigned char *) buf, 0);
     SETCOLOR (MT_COLOR_NORMAL);
     BKGDSET (MT_COLOR_NORMAL);
   }
diff -ur mutt~/mutt_curses.h mutt/mutt_curses.h
--- mutt~/mutt_curses.h	2006-10-28 19:17:57.000000000 +0200
+++ mutt/mutt_curses.h	2006-10-28 19:32:33.000000000 +0200
@@ -128,6 +128,16 @@
   MT_COLOR_SIDEBAR,
   MT_COLOR_UNDERLINE,
   MT_COLOR_INDEX,
+  /* please no non-MT_COLOR_INDEX objects after this point */
+  MT_COLOR_INDEX_SUBJECT,
+  MT_COLOR_INDEX_AUTHOR,
+  /* below only index coloring stuff that doesn't have a colorline! */
+  MT_COLOR_INDEX_COLLAPSED,
+  MT_COLOR_INDEX_DATE,
+  MT_COLOR_INDEX_FLAGS,
+  MT_COLOR_INDEX_LABEL,
+  MT_COLOR_INDEX_NUMBER,
+  MT_COLOR_INDEX_SIZE,
   MT_COLOR_NEW,
   MT_COLOR_MAX
 };
@@ -160,6 +170,8 @@
 extern COLOR_LINE *ColorHdrList;
 extern COLOR_LINE *ColorBodyList;
 extern COLOR_LINE *ColorIndexList;
+extern COLOR_LINE *ColorIndexSubjectList;
+extern COLOR_LINE *ColorIndexAuthorList;
 
 void ci_init_color (void);
 void ci_start_color (void);
diff -ur mutt~/mutt.h mutt/mutt.h
--- mutt~/mutt.h	2006-10-28 19:17:57.000000000 +0200
+++ mutt/mutt.h	2006-10-28 19:20:15.000000000 +0200
@@ -180,6 +180,8 @@
 #define M_TREE_MISSING		13
 #define M_TREE_MAX		14
 
+#define M_SPECIAL_INDEX		M_TREE_MAX
+
 #define M_THREAD_COLLAPSE	(1<<0)
 #define M_THREAD_UNCOLLAPSE	(1<<1)
 #define M_THREAD_GET_HIDDEN	(1<<2)
diff -ur mutt~/PATCHES mutt/PATCHES
--- mutt~/PATCHES	2006-10-28 19:17:57.000000000 +0200
+++ mutt/PATCHES	2006-10-28 19:20:15.000000000 +0200
@@ -1,3 +1,4 @@
+ca.cb.er.indexcolor
 ak.sidebar-shortenname
 nion.sidebar-color
 ak.umask





-- 
  "Talking much about oneself can also 
   be a means to conceal oneself."
        -Friedrich Nietzsche


From riesebie at lxtec.de  Sat Oct 28 20:02:37 2006
From: riesebie at lxtec.de (Elimar Riesebieter)
Date: Sat, 28 Oct 2006 20:02:37 +0200
Subject: mutt-ng isn't dead!
In-Reply-To: <20061028160641.GA13699@synflood.at>
References: <20061028152320.GB3762@frodo.home.lxtec.de>
	<20061028160641.GA13699@synflood.at>
Message-ID: <20061028180237.GE3762@frodo.home.lxtec.de>

On Sat, 28 Oct 2006 the mental interface of
Andreas Krennmair told:

> Hello,
> * Elimar Riesebieter <riesebie at lxtec.de> [06-10-28 17:28]:
> >On Sat, 28 Oct 2006 the mental interface of
> >Andreas Krennmair told:
> >
> >[...]
> >> http://bereshit.synflood.at/svn/mutt-patches/trunk/README">this
> >> description</a> on how to apply these patches. As stated above, you will
> >> need quilt in order to use it.
> >
> >The patches don't apply to mutt-1.5.13. Much hunks FAILED. quilt
> >refresh doesn't help and quilt push -f followed by refresh destroyes
> >the patches, though.
> 
> They apply against the latest CVS version.
> 
> Also simply 'quilt push -f && quilt refresh' isn't enough. Between the
> push -f and the refresh you need to manually fix the rejected parts
> (which you can see in the .rej files).
> 
> >> Feedback is welcome, and I would also like to know if this new
> >> development model is desired and accepted by the community.
> >
> >The intention is welcome ;) But isn't this a patch maintanance only?
> 
> No, why should it be? For every new feature I want to implement, I
> simply add a new patch. I can easily track and port this patch to every
> new CVS revision and/or release, it's (theoretically) simple to merge this
> patch back to the official mutt source tree.

That looks fine to me;)

> >How is that to distribute. Is it mutt-ng or a patched mutt then?
> 
> I'm thinking about providing pre-patched tarballs named something like
> "muttng-x.y.zz.tar.gz" shortly after every mutt release.

Hmm, we have to think about a new binary name and such stuff so that
mutt-ng can coexist with mutt.

Elimar


-- 
  Do you smell something burning or ist it me?


From ak at synflood.at  Sat Oct 28 20:47:16 2006
From: ak at synflood.at (Andreas Krennmair)
Date: Sat, 28 Oct 2006 20:47:16 +0200
Subject: mutt-ng isn't dead!
In-Reply-To: <20061028180237.GE3762@frodo.home.lxtec.de>
References: <20061028152320.GB3762@frodo.home.lxtec.de>
	<20061028160641.GA13699@synflood.at>
	<20061028180237.GE3762@frodo.home.lxtec.de>
Message-ID: <20061028184715.GA17827@synflood.at>

* Elimar Riesebieter <riesebie at lxtec.de> [06-10-28 20:21]:
>> >How is that to distribute. Is it mutt-ng or a patched mutt then?
>> 
>> I'm thinking about providing pre-patched tarballs named something like
>> "muttng-x.y.zz.tar.gz" shortly after every mutt release.
>
>Hmm, we have to think about a new binary name and such stuff so that
>mutt-ng can coexist with mutt.

Why? I mean why should mutt-ng co-exist with mutt? Now, mutt-ng _is_
mutt (plus a number of patches). Today's distributions already deliver
heavily patched mutt versions, so packaging mutt-ng isn't much of a
difference.

Regards,
Andreas


From andre.berger at web.de  Sat Oct 28 21:51:29 2006
From: andre.berger at web.de (Andre Berger)
Date: Sat, 28 Oct 2006 21:51:29 +0200
Subject: mutt-ng isn't dead!
In-Reply-To: <20061028160850.GA837@andreas.kneib.biz>
References: <20061028141015.GA1145@hvk> <20061028143908.GB1145@hvk>
	<20061028145836.GB13105@synflood.at>
	<20061028160850.GA837@andreas.kneib.biz>
Message-ID: <20061028195129.GB13759@hvk>

* Andreas Kneib (2006-10-28):
> * Andreas Krennmair wrote:
> 
> > * Andre Berger <andre.berger at web.de> [06-10-28 16:42]:
> > >$ tar -vxzf mutt-1.5.13.tar.gz
> > >$ cd mutt-1.5.13
> 
> > Use the latest version from CVS. 
> 
> THX! Now ist works. :)

Works for me too, just my nntp_host variable is gone?

-Andre


From ak at synflood.at  Sat Oct 28 22:02:27 2006
From: ak at synflood.at (Andreas Krennmair)
Date: Sat, 28 Oct 2006 22:02:27 +0200
Subject: mutt-ng isn't dead!
In-Reply-To: <20061028195129.GB13759@hvk>
References: <20061028141015.GA1145@hvk> <20061028143908.GB1145@hvk>
	<20061028145836.GB13105@synflood.at>
	<20061028160850.GA837@andreas.kneib.biz>
	<20061028195129.GB13759@hvk>
Message-ID: <20061028200227.GA20314@synflood.at>

* Andre Berger <andre.berger at web.de> [06-10-28 21:53]:
>* Andreas Kneib (2006-10-28):
>> * Andreas Krennmair wrote:
>> 
>> > * Andre Berger <andre.berger at web.de> [06-10-28 16:42]:
>> > >$ tar -vxzf mutt-1.5.13.tar.gz
>> > >$ cd mutt-1.5.13
>> 
>> > Use the latest version from CVS. 
>> 
>> THX! Now ist works. :)
>
>Works for me too, just my nntp_host variable is gone?

Some of the NNTP-related variables are called differently now, e.g.
nntp_server is now called news_server. I'm not yet sure whether I should
implement compatibility or simply put together a list how the new
variables are now called. Give me some time to think about it.

Regards,
Andreas


From ak at synflood.at  Sat Oct 28 22:06:01 2006
From: ak at synflood.at (Andreas Krennmair)
Date: Sat, 28 Oct 2006 22:06:01 +0200
Subject: mutt-ng isn't dead!
In-Reply-To: <20061028195535.GA2707@masterpost>
References: <20061028195535.GA2707@masterpost>
Message-ID: <20061028200600.GB20314@synflood.at>

* mess-mate <messmate at free.fr> [06-10-28 21:58]:
>Andreas Krennmair <ak at synflood.at> wrote:
>| Hello everybody,
>| 
>| As some of you may have noticed, mutt-ng development came to a halt
>| quite a while ago. The problem was that mutt-ng, in its original form,
>| wasn't really maintainable anymore. We had huge issues merging changes
>| that happened in mutt, as well as newer versions of the patches that we
>| had integrated into mutt-ng. This led to a total lack of motivation to
>| push mutt-ng development forward, and eventually all efforts were
>| suspended.
>.../...| 
>Sorry about my ignorance...
>1.-When patched the mutt-svc-rep and applied the patches; how can i
>compile further?
>There all ( some) *c,v after the files.

That looks like you've downloaded the CVS repo itself.

To check out the latest version from CVS, run the following command:
cvs -z3 -d :pserver:anonymous at dev.mutt.org:/cvsroots co mutt

Then apply the patches, run ./prepare, and then ./configure and make.

Regards,
Andreas


From andre.berger at web.de  Sat Oct 28 22:42:37 2006
From: andre.berger at web.de (Andre Berger)
Date: Sat, 28 Oct 2006 22:42:37 +0200
Subject: mutt-ng isn't dead!
In-Reply-To: <20061028200227.GA20314@synflood.at>
References: <20061028141015.GA1145@hvk> <20061028143908.GB1145@hvk>
	<20061028145836.GB13105@synflood.at>
	<20061028160850.GA837@andreas.kneib.biz>
	<20061028195129.GB13759@hvk> <20061028200227.GA20314@synflood.at>
Message-ID: <20061028204237.GA15055@hvk>

* Andreas Krennmair (2006-10-28):
> * Andre Berger <andre.berger at web.de> [06-10-28 21:53]:
> >* Andreas Kneib (2006-10-28):
> >>* Andreas Krennmair wrote:
> >>> * Andre Berger <andre.berger at web.de> [06-10-28 16:42]:
[...]
> >>> Use the latest version from CVS. THX! Now ist works. :)
> >
> >Works for me too, just my nntp_host variable is gone?

I made a mistake reporting this, now that I did make install, it's
back. Sorry and thanks again!

-Andre


From mess-mate at wanadoo.fr  Sat Oct 28 22:53:40 2006
From: mess-mate at wanadoo.fr (mess-mate)
Date: Sat, 28 Oct 2006 22:53:40 +0200
Subject: mutt-ng isn't dead!
In-Reply-To: <20061028200600.GB20314@synflood.at>
References: <20061028195535.GA2707@masterpost>
	<20061028200600.GB20314@synflood.at>
Message-ID: <20061028205340.GA15196@masterpost>

Andreas Krennmair <ak at synflood.at> wrote:
| * mess-mate <messmate at free.fr> [06-10-28 21:58]:
| >Andreas Krennmair <ak at synflood.at> wrote:
| >| Hello everybody,
| >| 
| >| As some of you may have noticed, mutt-ng development came to a halt
| >| quite a while ago. The problem was that mutt-ng, in its original form,
| >| wasn't really maintainable anymore. We had huge issues merging changes
| >| that happened in mutt, as well as newer versions of the patches that we
| >| had integrated into mutt-ng. This led to a total lack of motivation to
| >| push mutt-ng development forward, and eventually all efforts were
| >| suspended.
| >.../...| 
| >Sorry about my ignorance...
| >1.-When patched the mutt-svc-rep and applied the patches; how can i
| >compile further?
| >There all ( some) *c,v after the files.
| 
| That looks like you've downloaded the CVS repo itself.
| 
| To check out the latest version from CVS, run the following command:
| cvs -z3 -d :pserver:anonymous at dev.mutt.org:/cvsroots co mutt
| 
| Then apply the patches, run ./prepare, and then ./configure and make.
| 
Thanks, it's done, but..
Error in /home/mm/.muttrc, line 43: sidebar-next-new: no such
function in map
Error in /home/mm/.muttrc, line 44: sidebar-prev-new: no such
function in map
Error in /home/mm/.muttrc, line 47: sidebar-next-new: no such
function in map
Error in /home/mm/.muttrc, line 48: sidebar-prev-new: no such
function in map
Error in /home/mm/.mutt/server.pop3, line 4: pop_mail_check:
unknown variable
Error in /home/mm/.muttrc, line 51: source: errors in
/home/mm/.mutt/server.pop3
Error in /home/mm/.mutt/settings, line 52: agent_string: unknown
variable
Error in /home/mm/.muttrc, line 71: source: errors in
/home/mm/.mutt/settings

Is there a difference beteen the mutt-ng sidebar key's and the new ones ?

mess-mate                               
-- 

All things that are, are with more spirit chased than enjoyed.
		-- Shakespeare, "Merchant of Venice"


From ak at synflood.at  Sat Oct 28 23:03:37 2006
From: ak at synflood.at (Andreas Krennmair)
Date: Sat, 28 Oct 2006 23:03:37 +0200
Subject: mutt-ng isn't dead!
In-Reply-To: <20061028205340.GA15196@masterpost>
References: <20061028195535.GA2707@masterpost>
	<20061028200600.GB20314@synflood.at>
	<20061028205340.GA15196@masterpost>
Message-ID: <20061028210336.GC20314@synflood.at>

* mess-mate <mess-mate at wanadoo.fr> [06-10-28 22:59]:
>Thanks, it's done, but..
>Error in /home/mm/.muttrc, line 43: sidebar-next-new: no such
>function in map
>Error in /home/mm/.muttrc, line 44: sidebar-prev-new: no such
>function in map
>Error in /home/mm/.muttrc, line 47: sidebar-next-new: no such
>function in map
>Error in /home/mm/.muttrc, line 48: sidebar-prev-new: no such
>function in map
>Error in /home/mm/.mutt/server.pop3, line 4: pop_mail_check:
>unknown variable
>Error in /home/mm/.muttrc, line 51: source: errors in
>/home/mm/.mutt/server.pop3
>Error in /home/mm/.mutt/settings, line 52: agent_string: unknown
>variable
>Error in /home/mm/.muttrc, line 71: source: errors in
>/home/mm/.mutt/settings
>
>Is there a difference beteen the mutt-ng sidebar key's and the new ones ?

I'm working on that.

Regards,
Andreas


From andre.berger at web.de  Sun Oct 29 09:26:47 2006
From: andre.berger at web.de (Andre Berger)
Date: Sun, 29 Oct 2006 09:26:47 +0100
Subject: mutt-ng isn't dead!
In-Reply-To: <20061028204237.GA15055@hvk>
References: <20061028141015.GA1145@hvk> <20061028143908.GB1145@hvk>
	<20061028145836.GB13105@synflood.at>
	<20061028160850.GA837@andreas.kneib.biz>
	<20061028195129.GB13759@hvk> <20061028200227.GA20314@synflood.at>
	<20061028204237.GA15055@hvk>
Message-ID: <20061029082647.GA2053@hvk>

* Andre Berger (2006-10-28):
> * Andreas Krennmair (2006-10-28):
> > * Andre Berger <andre.berger at web.de> [06-10-28 21:53]:
> > >* Andreas Kneib (2006-10-28):
> > >>* Andreas Krennmair wrote:
> > >>> * Andre Berger <andre.berger at web.de> [06-10-28 16:42]:
> [...]
> > >>> Use the latest version from CVS. THX! Now ist works. :)
> > >
> > >Works for me too, just my nntp_host variable is gone?
> 
> I made a mistake reporting this, now that I did make install, it's
> back. Sorry and thanks again!

No, I was right. I called muttng instead of mutt the second time. 

How are you going to organize the notification about new versions and
features? For example, when the assumed_charset patch is ready? 

-Andre


From akneib at gmx.net  Sun Oct 29 17:14:09 2006
From: akneib at gmx.net (Andreas Kneib)
Date: Sun, 29 Oct 2006 17:14:09 +0100
Subject: [PATCH] Indexcolor
In-Reply-To: <20061028175929.GD3762@frodo.home.lxtec.de>
References: <20061028175929.GD3762@frodo.home.lxtec.de>
Message-ID: <20061029161409.GA4283@andreas.kneib.biz>

* Elimar Riesebieter wrote:


> This patch has to be noted as the last one in the series file.


> Main indexcolor page: http://greek0.net/mutt.html Patch forward ported
> to 1.5.11 by Christoph 'Myon' Berg (http://www.df7cb.de/) Myons patch
> reworked for mutt-ng by Elimar Riesebieter <riesebie at lxtec.de>

Thank you, Elimar! The Patch is very good. :)


Regardy
Andreas 


From ak at synflood.at  Mon Oct 30 09:50:59 2006
From: ak at synflood.at (Andreas Krennmair)
Date: Mon, 30 Oct 2006 09:50:59 +0100
Subject: NNTP configuration variables
Message-ID: <20061030085059.GA22710@synflood.at>

Hello,

I did some research on the differences of NNTP configuration between the
old and the new mutt-ng, and here's a transition overview:

nntp_ask_followup_to -> ask_followup_to
nntp_ask_x_comment_to -> ask_x_comment_to
nntp_catchup -> catchup_newsgroup
nntp_followup_to_poster -> followup_to_poster
nntp_group_index_format -> group_index_format
nntp_inews -> inews
nntp_mime_subject -> mime_subject
nntp_cache_dir -> news_cache_dir
nntp_host -> news_server
nntp_newsrc -> newsrc
nntp_context -> nntp_context
nntp_load_description -> nntp_load_description
nntp_user -> nntp_user
nntp_pass -> nntp_pass
nntp_reconnect -> nntp-reconnect
nntp_post_moderated -> post_moderated
nntp_save_unsubscribed -> save_unsubscribed
nntp_show_new_news -> show_new_news
nntp_show_only_unread -> show_only_unread
nntp_x_comment_to -> x_comment_to
-------
Not yet implemented:
nntp_mail_check

I don't know really why there's this difference, but most likely this
comes from the mutt-ng efforts to make the naming of configuration
variables more consistent.

Regards,
Andreas


From stettberger at gmx.de  Mon Oct 30 12:46:52 2006
From: stettberger at gmx.de (Christian Dietrich)
Date: Mon, 30 Oct 2006 12:46:52 +0100
Subject: mutt-ng isn't dead!
In-Reply-To: <20061028155203.GC3762@frodo.home.lxtec.de>
References: <20061028143133.GA16996@andreas.kneib.biz>
	<20061028145346.GA13105@synflood.at>
	<20061028155203.GC3762@frodo.home.lxtec.de>
Message-ID: <20061030114652.GA6800@platon>

* Elimar Riesebieter <riesebie at lxtec.de> [061029 09:18]:
> 
> Ok, the patches applied to the actual CVS version, but:
> 
> sidebar.c: In function 'sidebar_shorten_name':
> sidebar.c:142: error: 'ImapDelimChars' undeclared (first use in this function)
> sidebar.c:142: error: (Each undeclared identifier is reported only once
> sidebar.c:142: error: for each function it appears in.)
> sidebar.c:189:1: warning: C++ style comments are not allowed in ISO C90
> sidebar.c:189:1: warning: (this will be reported only once per input file)
> sidebar.c: In function 'draw_sidebar':
> sidebar.c:265: error: 'ImapDelimChars' undeclared (first use in this function)
> 

I had the same problem, but i could solve it with:

./configure --enable-imap

This Bug is because of the fact, that ImapDelimChars is only declared
with USE_IMAP, but uses in sidebar.c also without USE_IMAP for
abbreviating the Mailbox names.

didi
-- 
Zwei W?rmer krochen aus einem Misthaufen hinaus. Der kleine sagt zu dem gro?en:
"Vati, schau an, wie blau der Himmel ist, wie gr?n das Gras ist, wie sch?n
es riecht. Und wir wohnen doch in diesem Mist?!!"
"Verstehst du, S?hnlein, es gibt so einen Begriff wie Vaterland..."
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/mutt-ng-users/attachments/20061030/e9e8eedb/attachment.pgp>

From ak at synflood.at  Mon Oct 30 13:17:15 2006
From: ak at synflood.at (Andreas Krennmair)
Date: Mon, 30 Oct 2006 13:17:15 +0100
Subject: mutt-ng isn't dead!
In-Reply-To: <20061030114652.GA6800@platon>
References: <20061028143133.GA16996@andreas.kneib.biz>
	<20061028145346.GA13105@synflood.at>
	<20061028155203.GC3762@frodo.home.lxtec.de>
	<20061030114652.GA6800@platon>
Message-ID: <20061030121715.GA24047@synflood.at>

Hi,
* Christian Dietrich <stettberger at gmx.de> [06-10-30 12:48]:
>> sidebar.c: In function 'sidebar_shorten_name':
>> sidebar.c:142: error: 'ImapDelimChars' undeclared (first use in this function)
>> sidebar.c:142: error: (Each undeclared identifier is reported only once
>> sidebar.c:142: error: for each function it appears in.)
>> sidebar.c:189:1: warning: C++ style comments are not allowed in ISO C90
>> sidebar.c:189:1: warning: (this will be reported only once per input file)
>> sidebar.c: In function 'draw_sidebar':
>> sidebar.c:265: error: 'ImapDelimChars' undeclared (first use in this function)
>> 
>
>I had the same problem, but i could solve it with:
>
>./configure --enable-imap
>
>This Bug is because of the fact, that ImapDelimChars is only declared
>with USE_IMAP, but uses in sidebar.c also without USE_IMAP for
>abbreviating the Mailbox names.

I committed a fix for this. Could you check whether it works for you?

Regards,
Andreas


From stettberger at gmx.de  Mon Oct 30 13:51:43 2006
From: stettberger at gmx.de (Christian Dietrich)
Date: Mon, 30 Oct 2006 13:51:43 +0100
Subject: mutt-ng isn't dead!
In-Reply-To: <20061030121715.GA24047@synflood.at>
References: <20061028143133.GA16996@andreas.kneib.biz>
	<20061028145346.GA13105@synflood.at>
	<20061028155203.GC3762@frodo.home.lxtec.de>
	<20061030114652.GA6800@platon> <20061030121715.GA24047@synflood.at>
Message-ID: <20061030125143.GA3853@platon.stett>

* Andreas Krennmair <ak at synflood.at> [061030 13:21]:

> >This Bug is because of the fact, that ImapDelimChars is only declared
> >with USE_IMAP, but uses in sidebar.c also without USE_IMAP for
> >abbreviating the Mailbox names.
> 
> I committed a fix for this. Could you check whether it works for you?

It doesn't work, the problem seems to continue its existence. But
perhaps i don't work well with quilt. I did:

patches $ svn update
mutt $ quilt refresh
mutt $ ./prepare
mutt $ ./configure
mutt $ make

But it still doesn't work, same problem :(

didi
-- 
Zwei W?rmer krochen aus einem Misthaufen hinaus. Der kleine sagt zu dem gro?en:
"Vati, schau an, wie blau der Himmel ist, wie gr?n das Gras ist, wie sch?n
es riecht. Und wir wohnen doch in diesem Mist?!!"
"Verstehst du, S?hnlein, es gibt so einen Begriff wie Vaterland..."
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/mutt-ng-users/attachments/20061030/c48a6a3a/attachment.pgp>

From ak at synflood.at  Mon Oct 30 14:40:11 2006
From: ak at synflood.at (Andreas Krennmair)
Date: Mon, 30 Oct 2006 14:40:11 +0100
Subject: mutt-ng isn't dead!
In-Reply-To: <20061030125143.GA3853@platon.stett>
References: <20061028143133.GA16996@andreas.kneib.biz>
	<20061028145346.GA13105@synflood.at>
	<20061028155203.GC3762@frodo.home.lxtec.de>
	<20061030114652.GA6800@platon> <20061030121715.GA24047@synflood.at>
	<20061030125143.GA3853@platon.stett>
Message-ID: <20061030134011.GB26334@synflood.at>

* Christian Dietrich <stettberger at gmx.de> [06-10-30 13:54]:
>* Andreas Krennmair <ak at synflood.at> [061030 13:21]:
>
>> >This Bug is because of the fact, that ImapDelimChars is only declared
>> >with USE_IMAP, but uses in sidebar.c also without USE_IMAP for
>> >abbreviating the Mailbox names.
>> 
>> I committed a fix for this. Could you check whether it works for you?
>
>It doesn't work, the problem seems to continue its existence. But
>perhaps i don't work well with quilt. I did:
>
>patches $ svn update
>mutt $ quilt refresh
>mutt $ ./prepare
>mutt $ ./configure
>mutt $ make

The correct way to do this is the following:
mutt $ quilt pop -a  # unapply the old patches
patches $ svn update # fetch the new patches
mutt $ quilt push -a # apply the new patches
mutt $ ./prepare
mutt $ ./configure
mutt $ make

Regards,
Andreas


From ak at synflood.at  Mon Oct 30 15:11:41 2006
From: ak at synflood.at (Andreas Krennmair)
Date: Mon, 30 Oct 2006 15:11:41 +0100
Subject: mutt-ng isn't dead!
In-Reply-To: <20061030135628.GA20280@platon.stett>
References: <20061028143133.GA16996@andreas.kneib.biz>
	<20061028145346.GA13105@synflood.at>
	<20061028155203.GC3762@frodo.home.lxtec.de>
	<20061030114652.GA6800@platon> <20061030121715.GA24047@synflood.at>
	<20061030125143.GA3853@platon.stett>
	<20061030134011.GB26334@synflood.at>
	<20061030135628.GA20280@platon.stett>
Message-ID: <20061030141140.GA26679@synflood.at>

* Christian Dietrich <stettberger at gmx.de> [06-10-30 15:00]:
>* Andreas Krennmair <ak at synflood.at> [061030 14:41]:
>> The correct way to do this is the following:
>> mutt $ quilt pop -a  # unapply the old patches
>> patches $ svn update # fetch the new patches
>> mutt $ quilt push -a # apply the new patches
>> mutt $ ./prepare
>> mutt $ ./configure
>> mutt $ make
>
>I did this, but it doesn't compile at all :(

Send me your ./configure command line you used and the error messages
you got, otherwise I can't debug this.

Regards,
Andreas


From stettberger at gmx.de  Mon Oct 30 15:25:05 2006
From: stettberger at gmx.de (Christian Dietrich)
Date: Mon, 30 Oct 2006 15:25:05 +0100
Subject: mutt-ng isn't dead!
In-Reply-To: <20061030141140.GA26679@synflood.at>
References: <20061028143133.GA16996@andreas.kneib.biz>
	<20061028145346.GA13105@synflood.at>
	<20061028155203.GC3762@frodo.home.lxtec.de>
	<20061030114652.GA6800@platon> <20061030121715.GA24047@synflood.at>
	<20061030125143.GA3853@platon.stett>
	<20061030134011.GB26334@synflood.at>
	<20061030135628.GA20280@platon.stett>
	<20061030141140.GA26679@synflood.at>
Message-ID: <20061030142505.GB6800@platon>

* Andreas Krennmair <ak at synflood.at> [061030 15:12]:
> Send me your ./configure command line you used and the error messages
> you got, otherwise I can't debug this.

quilt pop -a && quilt push -a && ./prepare && ./configure \ 
--enable-smtp --enable-nntp && make:

sidebar.c: In Funktion ?sidebar_shorten_name?:
sidebar.c:141: Fehler: ?ImapDelimChars? nicht deklariert (erste
Benutzung in dieser Funktion)
sidebar.c:141: Fehler: (Jeder nicht deklarierte Bezeichner wird nur
einmal aufgef?hrt
sidebar.c:141: Fehler: f?r jede Funktion in der er auftritt.)
sidebar.c:188:1: Warnung: C++-Stil-Kommentare sind in ISO-C90 nicht
erlaubt
sidebar.c:188:1: Warnung: (dies wird nur einmal pro Eingabedatei
gemeldet)
sidebar.c: In Funktion ?draw_sidebar?:
sidebar.c:264: Fehler: ?ImapDelimChars? nicht deklariert (erste
Benutzung in dieser Funktion)
make[2]: *** [sidebar.o] Fehler 1
make[2]: Leaving directory `/home/stettberger/Linux/mutt'
make[1]: *** [all-recursive] Fehler 1
make[1]: Leaving directory `/home/stettberger/Linux/mutt'
make: *** [all] Fehler 2

didi
-- 
Zwei W?rmer krochen aus einem Misthaufen hinaus. Der kleine sagt zu dem gro?en:
"Vati, schau an, wie blau der Himmel ist, wie gr?n das Gras ist, wie sch?n
es riecht. Und wir wohnen doch in diesem Mist?!!"
"Verstehst du, S?hnlein, es gibt so einen Begriff wie Vaterland..."
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/mutt-ng-users/attachments/20061030/b83f0f1c/attachment.pgp>

From ak at synflood.at  Mon Oct 30 16:30:40 2006
From: ak at synflood.at (Andreas Krennmair)
Date: Mon, 30 Oct 2006 16:30:40 +0100
Subject: mutt-ng isn't dead!
In-Reply-To: <20061030142505.GB6800@platon>
References: <20061028143133.GA16996@andreas.kneib.biz>
	<20061028145346.GA13105@synflood.at>
	<20061028155203.GC3762@frodo.home.lxtec.de>
	<20061030114652.GA6800@platon> <20061030121715.GA24047@synflood.at>
	<20061030125143.GA3853@platon.stett>
	<20061030134011.GB26334@synflood.at>
	<20061030135628.GA20280@platon.stett>
	<20061030141140.GA26679@synflood.at> <20061030142505.GB6800@platon>
Message-ID: <20061030153039.GA27046@synflood.at>

Hi,
* Christian Dietrich <stettberger at gmx.de> [06-10-30 15:30]:
>quilt pop -a && quilt push -a && ./prepare && ./configure \ 
>--enable-smtp --enable-nntp && make:
>
>sidebar.c: In Funktion ?sidebar_shorten_name?:
>sidebar.c:141: Fehler: ?ImapDelimChars? nicht deklariert (erste
>Benutzung in dieser Funktion)
>sidebar.c:141: Fehler: (Jeder nicht deklarierte Bezeichner wird nur
>einmal aufgef?hrt
>sidebar.c:141: Fehler: f?r jede Funktion in der er auftritt.)
>sidebar.c:188:1: Warnung: C++-Stil-Kommentare sind in ISO-C90 nicht
>erlaubt
>sidebar.c:188:1: Warnung: (dies wird nur einmal pro Eingabedatei
>gemeldet)
>sidebar.c: In Funktion ?draw_sidebar?:
>sidebar.c:264: Fehler: ?ImapDelimChars? nicht deklariert (erste
>Benutzung in dieser Funktion)
>make[2]: *** [sidebar.o] Fehler 1
>make[2]: Leaving directory `/home/stettberger/Linux/mutt'
>make[1]: *** [all-recursive] Fehler 1
>make[1]: Leaving directory `/home/stettberger/Linux/mutt'
>make: *** [all] Fehler 2

Can't reproduce that. I suppose your checked out source tree is somehow
messed up. Please check out the mutt source tree again, link in the
patches subdirectory, push all patches, and then try to build again.

Regards,
Andreas


From riesebie at lxtec.de  Mon Oct 30 20:18:55 2006
From: riesebie at lxtec.de (Elimar Riesebieter)
Date: Mon, 30 Oct 2006 20:18:55 +0100
Subject: mutt-ng isn't dead!
In-Reply-To: <20061030121715.GA24047@synflood.at>
References: <20061028143133.GA16996@andreas.kneib.biz>
	<20061028145346.GA13105@synflood.at>
	<20061028155203.GC3762@frodo.home.lxtec.de>
	<20061030114652.GA6800@platon> <20061030121715.GA24047@synflood.at>
Message-ID: <20061030191855.GB3806@frodo.home.lxtec.de>

On Mon, 30 Oct 2006 the mental interface of
Andreas Krennmair told:

[...]
> >This Bug is because of the fact, that ImapDelimChars is only declared
> >with USE_IMAP, but uses in sidebar.c also without USE_IMAP for
> >abbreviating the Mailbox names.

> I committed a fix for this. Could you check whether it works for you?

Compiles well with:

./configure \
        --prefix=/usr \
        --sysconfdir=/etc \
        --mandir=/usr/share/man \
        --with-sharedir=/usr/share/mutt-ng \
        --with-docdir=/usr/share/doc/mutt-ng \
        --with-mailpath=/var/mail \
        --enable-fcntl --enable-pop \
        --with-sasl2 --with-idn \
        --with-curses \
        --enable-nntp \
        --enable-debug \
        --enable-compressed \
        --with-gnutls \
        --enable-hcache \
        --without-gdbm \
        --enable-gpgme

Elimar


-- 
  It's a good thing we don't get all 
  the government we pay for.


